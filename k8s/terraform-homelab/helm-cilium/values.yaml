kubeProxyReplacement: true
# Must use actual control-plane node IP, not localhost, for kube-proxy replacement
k8sServiceHost: "192.168.0.28"
k8sServicePort: "6443"

# BPF masquerade required - iptables fallback doesn't work with Cilium's BPF datapath.
# Bug #37537 was caused by k8sServiceHost=127.0.0.1, fixed by using actual node IP.
bpf:
  masquerade: true

l2announcements:
  enabled: true

externalIPs:
  enabled: true

ingressController:
  enabled: true
  loadbalancerMode: shared

hubble:
  enabled: true
  relay:
    enabled: true
  ui:
    enabled: true

operator:
  replicas: 1

ipam:
  mode: "kubernetes"
